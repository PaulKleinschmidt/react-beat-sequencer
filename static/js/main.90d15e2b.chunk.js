(window["webpackJsonptone-test"]=window["webpackJsonptone-test"]||[]).push([[0],{10:function(t,e,a){t.exports=a(16)},15:function(t,e,a){},16:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(9),i=a.n(r),c=(a(15),a(3)),o=a(4),l=a(7),u=a(5),d=a(2),m=a(6),h=a(1),p=a.n(h),y=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={active:!1},t.activate=t.activate.bind(Object(d.a)(t)),t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"activate",value:function(){this.props.instrumentIsSelected&&(this.setState({active:!this.state.active}),this.props.onActivate(this.props.type,this.props.index))}},{key:"render",value:function(){var t=this.state.active,e=this.props,a=e.instrumentIsSelected,n=e.isOnCurrentBeat,r=e.isBeginningOfMeasure,i=e.muted;return s.a.createElement("div",{style:{height:a?"40px":"10px",width:"40px",boxSizing:"border-box",border:a?!i&&n&&t?"2px solid orange":t?"3px solid red":"3px solid white":n&&t?"2px solid white":"",transform:n&&t&&!i?"rotateZ(-2deg)":"",boxShadow:t&&a?"1px 1px 40px 1px red":"",backgroundColor:i&&n?"#bdbdbd":n&&t?"#0bd3d3":n?"#f890e7":r||!a?"gray":"white",transition:"all .2s ease-out",margin:"3px",cursor:"pointer"},onClick:this.activate})}}]),e}(s.a.Component),v=(new p.a.MembraneSynth).toMaster(),g=new p.a.Synth({volume:1,oscillator:{type:"fmtriangle",modulationType:"square",harmonicity:3.5},envelope:{attack:.001,decay:.06,sustain:.004,release:.03}}).toMaster(),k=new p.a.NoiseSynth({noise:{type:"white"},envelope:{attack:.2,decay:.9,sustain:.02,release:.1}}).toMaster(),b=new p.a.MetalSynth({harmonicity:10,modulationIndex:32,resonance:4e3}).toMaster();k.volume.value=-45;var f=new p.a.MonoSynth({oscillator:{type:"square"},filter:{Q:5,type:"lowpass"},envelope:{attack:.005,decay:.1,sustain:.9,release:.4},filterEnvelope:{attack:.001,decay:.2,sustain:.5,release:2,baseFrequency:80,octaves:3,exponent:2}}).toMaster(),x=new p.a.PolySynth(6,p.a.Synth,{oscillator:{type:"sine"},envelope:{attack:.02,release:4}}).toMaster();f.volume.value=-12,x.volume.value=-12,b.volume.value=-36;var A=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={active:!0},t.onMuteClick=t.onMuteClick.bind(Object(d.a)(t)),t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"onMuteClick",value:function(){return this.setState({active:!this.state.active}),this.props.onClick()}},{key:"render",value:function(){var t=this.state.active;return s.a.createElement("div",{style:{height:"12px",width:"12px",marginRight:"10px",border:"2px solid white",borderRadius:"50%",backgroundColor:t?"#f890e7":"",padding:"3px",transition:"all .2s ease-out",cursor:"pointer"},onClick:this.onMuteClick})}}]),e}(s.a.Component),w=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={instruments:{drums:{kicks:Array(16).fill(!1),snares:Array(16).fill(!1),hats:Array(16).fill(!1)},bass:{c1:Array(16).fill(!1),c2:Array(16).fill(!1),c3:Array(16).fill(!1),c4:Array(16).fill(!1)},synth:{c1:Array(16).fill(!1),c2:Array(16).fill(!1),c3:Array(16).fill(!1),c4:Array(16).fill(!1),c5:Array(16).fill(!1),c6:Array(16).fill(!1)}},currentBeat:0,selectedInstrument:"drums",mutedTracks:[]},t.onActivateSquare=t.onActivateSquare.bind(Object(d.a)(t)),t.onMuteClick=t.onMuteClick.bind(Object(d.a)(t)),t}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=0,a=new p.a.Loop(function(a){16===(e+=1)&&(e=0),t.setState({currentBeat:e}),t.state.mutedTracks.includes("drums")||(t.state.instruments.drums.kicks[e]&&v.triggerAttackRelease("c1","10n",a),t.state.instruments.drums.snares[e]&&(g.triggerAttackRelease("c4","10n",a),k.triggerAttackRelease("8n")),t.state.instruments.drums.hats[e]&&b.triggerAttackRelease("32n")),t.state.mutedTracks.includes("bass")||(t.state.instruments.bass.c1[e]&&f.triggerAttackRelease("Bb0","8n"),t.state.instruments.bass.c2[e]&&f.triggerAttackRelease("C1","8n"),t.state.instruments.bass.c3[e]&&f.triggerAttackRelease("G1","8n"),t.state.instruments.bass.c4[e]&&f.triggerAttackRelease("C2","8n")),t.state.mutedTracks.includes("synth")||(t.state.instruments.synth.c1[e]&&x.triggerAttackRelease("G4","8n"),t.state.instruments.synth.c2[e]&&x.triggerAttackRelease("Bb4","8n"),t.state.instruments.synth.c3[e]&&x.triggerAttackRelease("C5","8n"),t.state.instruments.synth.c4[e]&&x.triggerAttackRelease("D5","8n"),t.state.instruments.synth.c5[e]&&x.triggerAttackRelease("Eb5","8n"),t.state.instruments.synth.c6[e]&&x.triggerAttackRelease("G5","8n"))},"16n");p.a.Transport.bpm.value=130,p.a.Transport.start(),a.start(0)}},{key:"onActivateSquare",value:function(t,e){p.a.context.resume();var a=this.state.selectedInstrument,n=JSON.parse(JSON.stringify(this.state.instruments)),s=n[a][t];s[e]=!s[e],this.setState({instruments:n})}},{key:"onMuteClick",value:function(t){var e=Object.assign([],this.state.mutedTracks);this.state.mutedTracks.includes(t)?e.splice(this.state.mutedTracks.indexOf(t),1):e.push(t),this.setState({mutedTracks:e})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{style:{backgroundColor:"black",color:"white",textAlign:"right",paddingRight:"20px",paddingBottom:"20px"}},s.a.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"right",minHeight:"100vh",color:"white"}},Object.keys(this.state.instruments).map(function(e){return s.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",margin:"10px"}},s.a.createElement(A,{onClick:function(){return t.onMuteClick(e)}}),s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},Object.keys(t.state.instruments[e]).map(function(a){var n=t.state.instruments[e][a];return s.a.createElement("div",{style:{display:"flex",flexDirection:"row"},onClick:function(){return t.state.selectedInstrument!==e&&t.setState({selectedInstrument:e})}},n.map(function(n,r){return s.a.createElement(y,{isBeginningOfMeasure:0===r||!(r%4),index:r,isOnCurrentBeat:t.state.currentBeat==r,onActivate:t.onActivateSquare,type:a,instrumentIsSelected:t.state.selectedInstrument===e,updateSelectedInstrument:function(){return t.setState({selectedInstrument:e})},muted:t.state.mutedTracks.includes(e)})}))})))})),s.a.createElement("a",{style:{textDecoration:"none",color:"gray",fontWeight:"bold"},href:"https://github.com/PaulKleinschmidt/react-beat-sequencer"},"Made by PaulKleinschmidt ","</>"))}}]),e}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.90d15e2b.chunk.js.map