(window["webpackJsonptone-test"]=window["webpackJsonptone-test"]||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),i=a.n(r),c=(a(16),a(3)),l=a(4),o=a(7),u=a(5),d=a(2),m=a(6),h=a(1),p=a.n(h),y=a(10),v=a.n(y),g=(a(17),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={active:!1},e.activate=e.activate.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"activate",value:function(){this.props.instrumentIsSelected&&(this.setState({active:!this.state.active}),this.props.onActivate(this.props.type,this.props.index))}},{key:"render",value:function(){var e=this.state.active,t=this.props,a=t.instrumentIsSelected,n=t.isOnCurrentBeat,r=t.isBeginningOfMeasure,i=t.muted;return s.a.createElement("div",{className:"square",style:{height:a?"40px":"10px",width:"40px",boxSizing:"border-box",border:a?!i&&n&&e?"2px solid orange":e?"3px solid red":"3px solid white":n&&e?"2px solid white":"",transform:n&&e&&!i?"rotateZ(-2deg)":"",boxShadow:e&&a?"1px 1px 40px 1px red":"",backgroundColor:i&&n?"#bdbdbd":n&&e?"#0bd3d3":n?"#f890e7":r||!a?"gray":"white",transition:"all .2s ease-out",margin:"3px",cursor:"pointer"},onClick:this.activate})}}]),t}(s.a.Component)),k=new p.a.JCReverb({delayTime:.4,wet:.1}).connect(p.a.Master),f=new p.a.FeedbackDelay({delayTime:.5,wet:.1}),b=(new p.a.MembraneSynth).toMaster(),x=new p.a.Synth({volume:1,oscillator:{type:"fmtriangle",modulationType:"square",harmonicity:3.5},envelope:{attack:.001,decay:.06,sustain:.004,release:.03}}).toMaster(),A=new p.a.Synth({volume:1,oscillator:{type:"fmtriangle",modulationType:"square",harmonicity:6.5},envelope:{attack:.001,decay:.06,sustain:.4,release:.5}}).chain(f,k);A.volume.value=-20;var w=new p.a.NoiseSynth({noise:{type:"white"},envelope:{attack:.2,decay:.9,sustain:.02,release:.1}}).toMaster(),O=new p.a.MetalSynth({harmonicity:10,modulationIndex:32,resonance:4e3}).toMaster();w.volume.value=-45;var S=new p.a.MonoSynth({oscillator:{type:"square"},filter:{Q:5,type:"lowpass"},envelope:{attack:.005,decay:.1,sustain:.9,release:.4},filterEnvelope:{attack:.001,decay:.2,sustain:.5,release:2,baseFrequency:80,octaves:3,exponent:2}}).toMaster(),C=new p.a.PolySynth(6,p.a.Synth,{oscillator:{type:"sine"},envelope:{attack:.02,release:4}}).chain(f,k);S.volume.value=-12,C.volume.value=-12,O.volume.value=-36;var j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={active:!0},e.onMuteClick=e.onMuteClick.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onMuteClick",value:function(){return this.setState({active:!this.state.active}),this.props.onClick()}},{key:"render",value:function(){var e=this.state.active,t=this.props.flash;return s.a.createElement("div",{style:{height:"12px",width:"12px",marginRight:"10px",border:"3px solid white",borderRadius:"50%",backgroundColor:e?t?"#0bd3d3":"#f890e7":"",padding:"3px",transition:"all .7s ease-out",cursor:"pointer"},onClick:this.onMuteClick})}}]),t}(s.a.Component),M=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={instruments:{drums:{kicks:Array(16).fill(!1),snares:Array(16).fill(!1),hats:Array(16).fill(!1),perc:Array(16).fill(!1)},bass:{c1:Array(16).fill(!1),c2:Array(16).fill(!1),c3:Array(16).fill(!1),c4:Array(16).fill(!1)},synth:{c1:Array(16).fill(!1),c2:Array(16).fill(!1),c3:Array(16).fill(!1),c4:Array(16).fill(!1),c5:Array(16).fill(!1),c6:Array(16).fill(!1)}},currentBeat:0,selectedInstrument:"drums",mutedTracks:[]},e.onActivateSquare=e.onActivateSquare.bind(Object(d.a)(e)),e.onMuteClick=e.onMuteClick.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=0,a=new p.a.Loop(function(a){16===(t+=1)&&(t=0),e.setState({currentBeat:t}),e.state.mutedTracks.includes("drums")||(e.state.instruments.drums.kicks[t]&&b.triggerAttackRelease("c1","10n",a),e.state.instruments.drums.snares[t]&&(x.triggerAttackRelease("c4","10n",a),w.triggerAttackRelease("8n")),e.state.instruments.drums.hats[t]&&O.triggerAttackRelease("32n"),e.state.instruments.drums.perc[t]&&A.triggerAttackRelease("c5","32n")),e.state.mutedTracks.includes("bass")||(e.state.instruments.bass.c1[t]&&S.triggerAttackRelease("Bb0","8n"),e.state.instruments.bass.c2[t]&&S.triggerAttackRelease("C1","8n"),e.state.instruments.bass.c3[t]&&S.triggerAttackRelease("G1","8n"),e.state.instruments.bass.c4[t]&&S.triggerAttackRelease("C2","8n")),e.state.mutedTracks.includes("synth")||(e.state.instruments.synth.c1[t]&&C.triggerAttackRelease("G4","8n"),e.state.instruments.synth.c2[t]&&C.triggerAttackRelease("Bb4","8n"),e.state.instruments.synth.c3[t]&&C.triggerAttackRelease("C5","8n"),e.state.instruments.synth.c4[t]&&C.triggerAttackRelease("D5","8n"),e.state.instruments.synth.c5[t]&&C.triggerAttackRelease("Eb5","8n"),e.state.instruments.synth.c6[t]&&C.triggerAttackRelease("G5","8n"))},"16n");p.a.Transport.bpm.value=130,p.a.Transport.start(),a.start(0)}},{key:"onActivateSquare",value:function(e,t){v()(p.a.context),p.a.context.resume();var a=this.state.selectedInstrument,n=JSON.parse(JSON.stringify(this.state.instruments)),s=n[a][e];s[t]=!s[t],this.setState({instruments:n})}},{key:"onMuteClick",value:function(e){var t=Object.assign([],this.state.mutedTracks);this.state.mutedTracks.includes(e)?t.splice(this.state.mutedTracks.indexOf(e),1):t.push(e),this.setState({mutedTracks:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{backgroundColor:"black",color:"white",textAlign:"right",paddingRight:"20px",paddingBottom:"20px"}},s.a.createElement("div",{className:"App",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"right",minHeight:"100vh",color:"white",paddingRight:"50%",paddingLeft:"50%"}},Object.keys(this.state.instruments).map(function(t){return s.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",margin:"10px"}},s.a.createElement(j,{flash:0===e.state.currentBeat||!(e.state.currentBeat%4),onClick:function(){return e.onMuteClick(t)}}),s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},Object.keys(e.state.instruments[t]).map(function(a){var n=e.state.instruments[t][a];return s.a.createElement("div",{style:{display:"flex",flexDirection:"row"},onClick:function(){return e.state.selectedInstrument!==t&&e.setState({selectedInstrument:t})}},n.map(function(n,r){return s.a.createElement(g,{isBeginningOfMeasure:0===r||!(r%4),index:r,isOnCurrentBeat:e.state.currentBeat==r,onActivate:e.onActivateSquare,type:a,instrumentIsSelected:e.state.selectedInstrument===t,updateSelectedInstrument:function(){return e.setState({selectedInstrument:t})},muted:e.state.mutedTracks.includes(t)})}))})))})),s.a.createElement("a",{style:{textDecoration:"none",color:"gray",fontWeight:"bold"},href:"https://github.com/PaulKleinschmidt/react-beat-sequencer"},"Made by PaulKleinschmidt ","</>"))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.5f0732ec.chunk.js.map